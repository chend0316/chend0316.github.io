(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{478:function(a,t,s){"use strict";s.r(t);var e=s(45),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsx"}},[a._v("#")]),a._v(" JSX")]),a._v(" "),s("p",[a._v("JSX 改变了语法")]),a._v(" "),s("ul",[s("li",[a._v("对 IDE 的代码高亮、代码建议、代码重构、代码跳转等功能都有影响，好在 VSCode、WebStorm 都对 JSX 有很好的支持")]),a._v(" "),s("li",[a._v("JSX 是 Facebook 自己弄的一个"),s("a",{attrs:{href:"https://facebook.github.io/jsx/",target:"_blank",rel:"noopener noreferrer"}},[a._v("规范"),s("OutboundLink")],1),a._v("，这个规范无意并入 ECMAScript，语法是 ES6 的扩充")]),a._v(" "),s("li",[a._v("JSX 需要编译，今天一般用 Babel 编译")])]),a._v(" "),s("p",[a._v("虽然 Template Literials 很适合用于实现 JSX 这种 DSL，优点是可以在运行时实现，无需编译。但 "),s("a",{attrs:{href:"https://facebook.github.io/jsx/",target:"_blank",rel:"noopener noreferrer"}},[a._v("JSX 规范"),s("OutboundLink")],1),a._v("也指出 Template Literials 存在较大的缺点，即: 需要实现一个完整的 JS 语法 + JSX 语法，工作量大，且和 JS 引擎的工作重复了。")]),a._v(" "),s("p",[a._v("我认为 Template Literials 还有一个缺点 JSX 规范没提到: 无法访问局部变量。这是因为 Template Literials 本质就是个函数而已，如我的理解有误，欢迎指出。")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Template Literals，无法访问 loading 变量")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" loading "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" box "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" jsx"),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\n  <Box>\n    {\n      loading ?\n      <div>loading...</div> :\n      <div>Text Content</div>\n    }\n  </Box>\n")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// JSX，可以访问 loading 变量")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" loading "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" box "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Box"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      loading "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("loading"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("Text Content"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("Box"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"使用-webpack-babel-编译-jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-webpack-babel-编译-jsx"}},[a._v("#")]),a._v(" 使用 Webpack + Babel 编译 JSX")]),a._v(" "),s("ul",[s("li",[a._v("安装 Webpack 5: "),s("code",[a._v("npm i -D webpack webpack-cli")])]),a._v(" "),s("li",[a._v("安装 Babel: "),s("code",[a._v("npm i -D @babel/core")])]),a._v(" "),s("li",[a._v("安装 Babel 的 JSX 插件: "),s("code",[a._v("npm i -D @babel/plugin-transform-react-jsx")])]),a._v(" "),s("li",[a._v("为了能在 Webpack 中使用 Babel，安装: "),s("code",[a._v("npm i -D babel-loader")])]),a._v(" "),s("li",[a._v("在 Webpack 中配置 babel-loader")])])])}),[],!1,null,null,null);t.default=r.exports}}]);