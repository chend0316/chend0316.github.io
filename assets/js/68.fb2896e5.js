(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{449:function(t,a,s){"use strict";s.r(a);var e=s(45),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"unix-环境编程入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unix-环境编程入门"}},[t._v("#")]),t._v(" Unix 环境编程入门")]),t._v(" "),s("p",[t._v("POSIX")]),t._v(" "),s("h2",{attrs:{id:"hello-world"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hello-world"}},[t._v("#")]),t._v(" Hello World")]),t._v(" "),s("p",[t._v("编译型语言 (Compiled language): C/C++")]),t._v(" "),s("p",[t._v("解释型语言 (Interpreted Language): Python")]),t._v(" "),s("p",[t._v("但现代编程语言很多都分不清是编译型还是解释型: Java、JavaScript。Java 会先编译成字节码，然后用 Java 虚拟机解释执行。")]),t._v(" "),s("p",[t._v("二者区别: "),s("a",{attrs:{href:"https://www.geeksforgeeks.org/difference-between-compiled-and-interpreted-language/",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文阅读材料"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("有同学可能会用是否存在 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop",target:"_blank",rel:"noopener noreferrer"}},[t._v("REPL"),s("OutboundLink")],1),t._v(" 来区分二者，认为有 REPL 的语言是 Interpreted Language，这其实是一个误区。")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.python.org/3/tutorial/interpreter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python 有 REPL"),s("OutboundLink")],1),t._v("，所以 Python 是 Interpreted Language")]),t._v(" "),s("li",[t._v("C/C++ 没有 REPL，所以是 Compiled Language")]),t._v(" "),s("li",[t._v("这其实是误区，编译型语言也可以有 REPL")])]),t._v(" "),s("h2",{attrs:{id:"命令行程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行程序"}},[t._v("#")]),t._v(" 命令行程序")]),t._v(" "),s("ul",[s("li",[t._v("命令行参数 (command-line arguments)")]),t._v(" "),s("li",[t._v("进程退出码 (process exit code)")]),t._v(" "),s("li",[t._v("进程 ID (process id)")]),t._v(" "),s("li",[t._v("main 函数")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("在 macOS/Linux 下可以通过 "),s("code",[t._v("echo $?")]),t._v(" 命令查看上一个进程的退出码，约定退出码为 0 表示程序正常退出。")])]),t._v(" "),s("p",[t._v("编译型语言一般用 main 函数的参数代表命令行参数，用 main 函数的返回值表示进程退出码。")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("例如 C 语言")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.geeksforgeeks.org/command-line-arguments-in-c-cpp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文阅读材料"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// argc 表示命令行参数的个数，argv 表示命令行参数")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 退出码是 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("p",[t._v("解释型语言也有各自的方法来表示命令行参数。")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("例如 Node.js")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arg "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 退出码是 1")]),t._v("\n")])])])]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("例如 Shell 脚本")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 退出码是 1")]),t._v("\n")])])])]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("standard error codes")]),t._v(" "),s("ul",[s("li",[t._v("1 - Catchall for general errors")]),t._v(" "),s("li",[t._v("2 - Misuse of shell builtins (according to Bash documentation)")]),t._v(" "),s("li",[t._v("126 - Command invoked cannot execute")]),t._v(" "),s("li",[t._v("127 - “command not found”")]),t._v(" "),s("li",[t._v("128 - Invalid argument to exit")]),t._v(" "),s("li",[t._v("128+n - Fatal error signal “n”")]),t._v(" "),s("li",[t._v("130 - Script terminated by Control-C")]),t._v(" "),s("li",[t._v("255* - Exit status out of range")])])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://shapeshed.com/unix-exit-codes/",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文阅读材料"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"进程退出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程退出"}},[t._v("#")]),t._v(" 进程退出")]),t._v(" "),s("ul",[s("li",[t._v("借助 Ctrl-C 讲解信号")]),t._v(" "),s("li",[t._v("异常退出，coredump 文件")])]),t._v(" "),s("h2",{attrs:{id:"标准输入、输出、错误流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准输入、输出、错误流"}},[t._v("#")]),t._v(" 标准输入、输出、错误流")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/ANSI_escape_code#Colors",target:"_blank",rel:"noopener noreferrer"}},[t._v("输出有颜色的文字"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),s("p",[s("code",[t._v("getenv()")]),t._v("、"),s("code",[t._v("putenv()")]),t._v("、"),s("code",[t._v("environ")])]),t._v(" "),s("h2",{attrs:{id:"系统调用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统调用"}},[t._v("#")]),t._v(" 系统调用")]),t._v(" "),s("h2",{attrs:{id:"文件-i-o"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件-i-o"}},[t._v("#")]),t._v(" 文件 I/O")]),t._v(" "),s("h3",{attrs:{id:"文件描述符-file-descriptor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件描述符-file-descriptor"}},[t._v("#")]),t._v(" 文件描述符 (File Descriptor)")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.computerhope.com/jargon/f/file-descriptor.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文阅读材料"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"打开、关闭文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开、关闭文件"}},[t._v("#")]),t._v(" 打开、关闭文件")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("man 2 open")])]),t._v(" "),s("li",[s("code",[t._v("man 2 close")])]),t._v(" "),s("li",[s("code",[t._v("man 2 lseek")])])]),t._v(" "),s("p",[t._v("process 结束的时候 Kernel 会自动 close process 打开的所有文件。")]),t._v(" "),s("h3",{attrs:{id:"写文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写文件"}},[t._v("#")]),t._v(" 写文件")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("man 2 write")])])]),t._v(" "),s("h2",{attrs:{id:"进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[t._v("#")]),t._v(" 进程")]),t._v(" "),s("h2",{attrs:{id:"线程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线程"}},[t._v("#")]),t._v(" 线程")]),t._v(" "),s("h2",{attrs:{id:"网络-i-o"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络-i-o"}},[t._v("#")]),t._v(" 网络 I/O")])])}),[],!1,null,null,null);a.default=r.exports}}]);