(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{393:function(t,v,_){"use strict";_.r(v);var d=_(42),r=Object(d.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"http"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),_("p",[t._v("HTTP标准由IETF组织制定：")]),t._v(" "),_("ul",[_("li",[t._v("HTTP/1.0：https://tools.ietf.org/html/rfc1945")]),t._v(" "),_("li",[t._v("HTTP/1.1：https://tools.ietf.org/html/rfc2616")]),t._v(" "),_("li",[t._v("HTTP/1.1 Caching：https://tools.ietf.org/html/rfc7234")]),t._v(" "),_("li",[t._v("HTTPS：https://tools.ietf.org/html/rfc2818")]),t._v(" "),_("li",[t._v("HTTP/2：https://tools.ietf.org/html/rfc7540")])]),t._v(" "),_("h2",{attrs:{id:"发展路线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#发展路线"}},[t._v("#")]),t._v(" 发展路线")]),t._v(" "),_("h3",{attrs:{id:"性能发展路线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#性能发展路线"}},[t._v("#")]),t._v(" 性能发展路线")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("HTTP/1.0")]),t._v(" "),_("th",[t._v("HTTP/1.1")]),t._v(" "),_("th",[t._v("HTTP/2.0")]),t._v(" "),_("th",[t._v("HTTP/3.0")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("缓存技术")]),t._v(" "),_("td",[t._v("头增加cache字段")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("压缩技术")]),t._v(" "),_("td",[t._v("头增加encoding字段")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("头部压缩")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("TCP三次握手问题")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("引入长连接[1]")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("TCP慢启动问题")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("多路复用[2]")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("TCP连接相互竞争带宽")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("多路复用+设置优先级")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("HTTP请求队头阻塞")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("多路复用")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("TCP包级别队头阻塞")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")])])]),t._v(" "),_("p",[t._v("备注[1]：在一个HTTP长连接上串行发送请求，引入了HTTP请求级别的队头阻塞问题，即前面请求的资源被阻塞了，后面请求的资源要一直等着。")]),t._v(" "),_("p",[t._v("备注[1]：在HTTP/1.1下，浏览器会为同一域名维护6个长连接，实现并行加载资源的目的。若网站引入了N个CDN域名，那么就有6*N个并行的长连接。但这6*N个长连接之间相互独立无法协商，无法优先加载JS、CSS这种关键资源的连接。")]),t._v(" "),_("p",[t._v("备注[2]：以往是用多个连接实现资源并行加载，多路复用是在同一个连接上并行加载，实现起来挺复杂的。在HTTP/2.0下，浏览器为同一域名只维护1个长连接。")]),t._v(" "),_("h3",{attrs:{id:"功能发展路线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#功能发展路线"}},[t._v("#")]),t._v(" 功能发展路线")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("HTTP/1.0")]),t._v(" "),_("th",[t._v("HTTP/1.1")]),t._v(" "),_("th",[t._v("HTTP/2.0")]),t._v(" "),_("th",[t._v("HTTP/3.0")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("多文件格式")]),t._v(" "),_("td",[t._v("头增加accept字段")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("状态码")]),t._v(" "),_("td",[t._v("响应头Status-Code字段")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("同主机绑多域名")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("请求头增加Host字段")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("支持动态生成的内容")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("引入Chunk transfer机制")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("Cookie")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("引入Cookie")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("服务端推送")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("服务端推送")]),t._v(" "),_("td")])])]),t._v(" "),_("h2",{attrs:{id:"https"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" HTTPS")]),t._v(" "),_("p",[t._v("HTTPS 使用非对称加密，有公钥、私钥的概念。公钥可以随意传播，为了确保公钥是真的，我们引入了证书 (Certificate)。为了确保证书是真的，我们要去CA (Certificate Authority) 机构校验。各大CA机构的公钥是默认安装在操作系统里的，所以不要安装来路不明的操作系统，否则相当于裸奔。")]),t._v(" "),_("p",[t._v("HTTPS 握手分为五个阶段，"),_("RouterLink",{attrs:{to:"/pages/tcpdump-https/"}},[t._v("这个实验")]),t._v("用 tcpdump 命令抓包，然后导入到 Wireshark 进行分析学习。")],1),t._v(" "),_("h2",{attrs:{id:"学习-http-协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#学习-http-协议"}},[t._v("#")]),t._v(" 学习 HTTP 协议")]),t._v(" "),_("p",[t._v("因为是纯文本协议，所以可以使用 telnet 工具来手工发起一个 HTTP 请求，如果不会玩，可以：")]),t._v(" "),_("ul",[_("li",[t._v("谷歌搜 HTTP 请求报文的格式")]),t._v(" "),_("li",[t._v("谷歌搜「send HTTP request using Telnet」")]),t._v(" "),_("li",[t._v("看下 RFC 规范，确认一下请求报文的格式")])])])}),[],!1,null,null,null);v.default=r.exports}}]);