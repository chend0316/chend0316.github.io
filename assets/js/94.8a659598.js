(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{477:function(e,a,t){"use strict";t.r(a);var r=t(45),o=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"开发环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境搭建"}},[e._v("#")]),e._v(" 开发环境搭建")]),e._v(" "),t("h2",{attrs:{id:"electron-vue-环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#electron-vue-环境搭建"}},[e._v("#")]),e._v(" Electron + Vue 环境搭建")]),e._v(" "),t("p",[e._v("虽然这里介绍的是Vue，但React、Angular等其他前端框架原理是一样的。")]),e._v(" "),t("h3",{attrs:{id:"目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[e._v("#")]),e._v(" 目录结构")]),e._v(" "),t("p",[e._v("Electron分为主进程和渲染进程，Vue运行在渲染进程。二者的代码是分开存放的，一般我们约定的工程目录结构如下：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("src/ \n  |-- main/  # 这是主进程代码，这部分代码可以参考Electron文档，比较死板\n    |-- main.js\n  |-- renderer/  # 这部分代码结构非常灵活，根据框架和习惯的不同差异很大，没有统一标准\n    |-- dist/  # 本文约定build出来的资源文件放在这个目录\n    |-- App.vue\n    |-- app.js\n    |-- package.json\n  |-- package.json\n")])])]),t("p",[e._v("注意外层的package.json是Electron工程的，而内层的package.json是Vue工程的，使用的时候注意不要搞混。")]),e._v(" "),t("h3",{attrs:{id:"原理和背景知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原理和背景知识"}},[e._v("#")]),e._v(" 原理和背景知识")]),e._v(" "),t("p",[e._v("Electron在主进程中通过"),t("code",[e._v("BrowserWindow.loadFile")]),e._v("或"),t("code",[e._v("BrowserWindow.loadURL")]),e._v("加载页面。")]),e._v(" "),t("p",[e._v("我们可以通过"),t("code",[e._v("vue-cli")]),e._v("快速创建Vue工程，也可以手动配置Webpack配置。在开发环境一般会通过"),t("code",[e._v("webpack-dev-server")]),e._v("启动一个HTTP服务器，比如监听在"),t("code",[e._v("http://localhost:8080")]),e._v("。而在生产环境会通过"),t("code",[e._v("webpack")]),e._v("进行打包，生成HTML、JS等文件。")]),e._v(" "),t("h3",{attrs:{id:"生产环境-todo以后再补充"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境-todo以后再补充"}},[e._v("#")]),e._v(" 生产环境（todo以后再补充）")]),e._v(" "),t("p",[e._v("首先需要约定Vue工程build出来的HTML文件放在哪里，然后在主进程中通过"),t("code",[e._v("BrowserWindow.loadFile")]),e._v("加载。")]),e._v(" "),t("h3",{attrs:{id:"开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[e._v("#")]),e._v(" 开发环境")]),e._v(" "),t("p",[e._v("在主进程中通过"),t("code",[e._v("BrowserWindow.loadURL('http://localhost:8080')")]),e._v("加载Vue页面，但在此之前需要先启动Vue项目，这就有个时序问题了。")]),e._v(" "),t("p",[e._v("首先通过执行内层package.json的命令启动Vue项目。等待Vue启动成功后，新开一个控制台，执行外层package.json的命令启动Electron。")]),e._v(" "),t("p",[e._v("这样就需要打开2个控制台，敲2个命令，而且还有顺序要求。如果你嫌每次这样做很麻烦，那么可以借助"),t("a",{attrs:{href:"https://www.npmjs.com/package/wait-on",target:"_blank",rel:"noopener noreferrer"}},[e._v("wait-on"),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"https://www.npmjs.com/package/concurrently",target:"_blank",rel:"noopener noreferrer"}},[e._v("concurrently"),t("OutboundLink")],1),e._v("，让命令自动化程度更高一些。")])])}),[],!1,null,null,null);a.default=o.exports}}]);