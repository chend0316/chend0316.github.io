(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{372:function(t,s,a){t.exports=a.p+"assets/img/chrome-devtool-timing.ba91f065.png"},431:function(t,s,a){"use strict";a.r(s);var e=a(42),v=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"前端性能优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端性能优化"}},[t._v("#")]),t._v(" 前端性能优化")]),t._v(" "),e("h2",{attrs:{id:"性能分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能分析"}},[t._v("#")]),t._v(" 性能分析")]),t._v(" "),e("h3",{attrs:{id:"性能分析指标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能分析指标"}},[t._v("#")]),t._v(" 性能分析指标")]),t._v(" "),e("p",[t._v("fp fcp fmp tti")]),t._v(" "),e("h3",{attrs:{id:"性能分析工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能分析工具"}},[t._v("#")]),t._v(" 性能分析工具")]),t._v(" "),e("p",[t._v("https://webpagetest.org/ 是一个生成性能分析报告的网站。")]),t._v(" "),e("p",[t._v("资源的网络请求耗时可以看下图。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(372),alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("Queuing 是排队等待，因为资源有优先级而且最多 6 个长连接，所以有些资源会排队等待")]),t._v(" "),e("li",[t._v("Initial connection 是建立 TCP 连接的过程")]),t._v(" "),e("li",[t._v("SSL 是 HTTPS 中的 SSL 握手过程")]),t._v(" "),e("li",[t._v("Request sent 是将数据发送出去的过程，这个过程很快")]),t._v(" "),e("li",[t._v("TTFB 是从发出数据到接收到服务器第一个字节的过程，这是衡量服务器的响应速度的重要指标")]),t._v(" "),e("li",[t._v("Content Download 是接受数据的过程，如果太慢可以考虑压缩资源大小")])]),t._v(" "),e("h2",{attrs:{id:"网络资源耗时"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络资源耗时"}},[t._v("#")]),t._v(" 网络资源耗时")]),t._v(" "),e("h3",{attrs:{id:"阻塞-dom-解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阻塞-dom-解析"}},[t._v("#")]),t._v(" 阻塞 DOM 解析")]),t._v(" "),e("p",[t._v("因为 JS 中可能会操作 DOM，所以遇到 "),e("code",[t._v("<script>")]),t._v(" 会等 JS 加载、执行完毕后才会解析后续的 DOM。为了避免阻塞页面解析，所以我们一般将 "),e("code",[t._v("<script>")]),t._v(" 放在最后。如果 JS 里面没有操作 DOM 的代码，也可以用 "),e("code",[t._v("<script async>")]),t._v(" 或 "),e("code",[t._v("<script defer>")]),t._v("。async 会异步加载，一旦加载完成会立刻执行。defer 也是异步加载，会在 DOMContentLoaded 事件之前执行。")]),t._v(" "),e("p",[t._v("因为 JS 可以操作样式 "),e("code",[t._v("div1.style.color = 'red'")]),t._v("，所以说 JS 是依赖 CSS 的。所以只有 CSS 文件加载完成后，才会执行 JS，这样 JS 就会被 CSS 阻塞。")]),t._v(" "),e("h2",{attrs:{id:"csr、ssr、同构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csr、ssr、同构"}},[t._v("#")]),t._v(" CSR、SSR、同构")]),t._v(" "),e("p",[t._v("SSR好处：")]),t._v(" "),e("ul",[e("li",[t._v("SEO")]),t._v(" "),e("li",[t._v("性能")])]),t._v(" "),e("p",[t._v("BigPipe 是非常古老的技术，利用了 HTTP/1.1 支持分块传输的能力，在响应头中加上 "),e("code",[t._v("Transfer-Encoding: chunked")]),t._v(" 就可以告知浏览器启用该能力。")])])}),[],!1,null,null,null);s.default=v.exports}}]);