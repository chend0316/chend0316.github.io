(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{370:function(t,a,e){"use strict";e.r(a);var n=e(42),i=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"cmake"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cmake"}},[t._v("#")]),t._v(" CMake")]),t._v(" "),e("h2",{attrs:{id:"工作流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#工作流程"}},[t._v("#")]),t._v(" 工作流程")]),t._v(" "),e("ul",[e("li",[t._v("编写"),e("code",[t._v("CMakeLists.txt")]),t._v("配置文件")]),t._v(" "),e("li",[t._v("运行"),e("code",[t._v("cmake -S ./ -B ./build")])])]),t._v(" "),e("ul",[e("li",[t._v("配置"),e("code",[t._v("ccmake ./build")])]),t._v(" "),e("li",[t._v("编译"),e("code",[t._v("cmake --build ./build")])]),t._v(" "),e("li",[t._v("安装"),e("code",[t._v("cmake --install ./build --prefix /install/path/")])])]),t._v(" "),e("h2",{attrs:{id:"cmake常用配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cmake常用配置"}},[t._v("#")]),t._v(" CMake常用配置")]),t._v(" "),e("p",[t._v("下面这个配置文件供查阅，不可直接运行。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('cmake_minimum_required(VERSION 3.10)\n\nproject(Tutorial VERSION 1.0)\n\n# 设置变量\nset(CMAKE_CXX_STANDARD 98)\nset(CMAKE_CXX_STANDARD_REQUIRED True)\n\n# .in文件是用一些特殊语法编写的模板文件\nconfigure_file(TutorialConfig.h.in TutorialConfig.h)\n\n# 添加名为Tutorial的Target，这是个可执行文件\nadd_executable(Tutorial tutorial.cxx)\n\n# 添加名为MyMath作为Target，这是个库文件\nadd_library(MyMath mymath.cxx)\n\n# 配置Target的头文件搜索目录\ntarget_include_directories(Tutorial PUBLIC "${PROJECT_BINARY_DIR}")\n\n# 配置Target需要链接的库文件\ntarget_link_libraries(Tutorial PUBLIC MyMath)\n\n# 意思是MathFunctions目录还有CMakeLists.txt需要解析\nadd_subdirectory(MathFunctions)\n\n# 添加名为USE_MYMATH的配置项，默认为ON，可通过ccmake命令修改配置项\noption(USE_MYMATH "Use MyMath library" ON)\n\n# 将<target>复制到${CMAKE_INSTALL_PREFIX}/bin目录\ninstall(TARGETS Tutorial DESTINATION bin)\n\n# 将指定文件复制到${CMAKE_INSTALL_PREFIX}/include目录\ninstall(FILES ${PROJECT_BINARY_DIR}/TutorialConfig.h DESTINATION include)\n')])])])])}),[],!1,null,null,null);a.default=i.exports}}]);