(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{435:function(e,o,t){"use strict";t.r(o);var v=t(45),_=Object(v.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"数据存储"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据存储"}},[e._v("#")]),e._v(" 数据存储")]),e._v(" "),t("p",[e._v("IndexedDB 这里不讲。")]),e._v(" "),t("h2",{attrs:{id:"cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[e._v("#")]),e._v(" Cookie")]),e._v(" "),t("p",[e._v("Cookie 本是用来和服务端通信的，在 H5 出现以前勉强能用作数据存储。后来 H5 新增了 Web Storage 专门做存储。Cookie 会随着每个网络请求发送出去，所以不能存太大的内容，否则浪费流量。")]),e._v(" "),t("p",[e._v("后端发给浏览器的 HTTP Response 中会带有 "),t("code",[e._v("Set-Cookie")]),e._v(" 的头，形如："),t("code",[e._v("Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT;")]),e._v("，浏览器收到后就会把这个 Cookie 保存起来，分号后面的是这条 Cookie 的属性。")]),e._v(" "),t("p",[e._v("Cookie 属性：")]),e._v(" "),t("ul",[t("li",[e._v("生命周期由 "),t("code",[e._v("Max-Age")]),e._v(" 和 "),t("code",[e._v("Expires")]),e._v(" 属性指定，如果没有这两个属性，则是会话期 Cookie (Session Cookies)")]),e._v(" "),t("li",[t("code",[e._v("Domain")]),e._v(" 和 "),t("code",[e._v("Path")]),e._v(" 属性指定了 Cookie 的作用域")]),e._v(" "),t("li",[t("code",[e._v("HttpOnly")]),e._v(" 和 XSS 攻击有关")]),e._v(" "),t("li",[t("code",[e._v("SameSite")]),e._v(" 和 CSRF 攻击有关")]),e._v(" "),t("li",[t("code",[e._v("Secure")]),e._v(" 和中间人窃听攻击有关")])]),e._v(" "),t("p",[e._v("详细内容参考 "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN 的文档"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"web-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[e._v("#")]),e._v(" Web Storage")]),e._v(" "),t("p",[e._v("实际开发中，"),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/sessionStorage",target:"_blank",rel:"noopener noreferrer"}},[e._v("sessionStorage"),t("OutboundLink")],1),e._v(" 比较少用，"),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage",target:"_blank",rel:"noopener noreferrer"}},[e._v("localStroage"),t("OutboundLink")],1),e._v(" 比较常用。")]),e._v(" "),t("h2",{attrs:{id:"生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[e._v("#")]),e._v(" 生命周期")]),e._v(" "),t("p",[e._v("localStorage 会长久存储，而 sessionStorage 和 Session Cookies 的生命周期区别如下：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th"),e._v(" "),t("th",[e._v("sessionStorage")]),e._v(" "),t("th",[e._v("Session Cookies")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("刷新页面")]),e._v(" "),t("td",[e._v("保留")]),e._v(" "),t("td",[e._v("保留")])]),e._v(" "),t("tr",[t("td",[e._v("打开新标签页")]),e._v(" "),t("td",[e._v("丢失")]),e._v(" "),t("td",[e._v("保留")])]),e._v(" "),t("tr",[t("td",[e._v("关闭标签页")]),e._v(" "),t("td",[e._v("丢失")]),e._v(" "),t("td",[e._v("保留")])]),e._v(" "),t("tr",[t("td",[e._v("关闭浏览器")]),e._v(" "),t("td",[e._v("丢失")]),e._v(" "),t("td",[e._v("丢失")])])])])])}),[],!1,null,null,null);o.default=_.exports}}]);