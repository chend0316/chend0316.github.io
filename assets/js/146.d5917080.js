(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{537:function(e,t,r){"use strict";r.r(t);var a=r(45),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"性能优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[e._v("#")]),e._v(" 性能优化")]),e._v(" "),r("h2",{attrs:{id:"windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),r("p",[e._v("微软官方指南:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://techcommunity.microsoft.com/t5/ask-the-performance-team/windows-performance-monitor-overview/ba-p/375481",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows Performance Monitor Overview"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-2000-server/cc938647(v=technet.10)",target:"_blank",rel:"noopener noreferrer"}},[e._v("Measuring Multiprocessor System Activity"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("第三方指南:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.heroix.com/blog/windows-cpu-metric-guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows CPU Metric Guide"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.tenforums.com/tutorials/82009-generate-system-performance-report-windows-10-a.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to Generate System Performance Report in Windows 10"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"硬件环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#硬件环境"}},[e._v("#")]),e._v(" 硬件环境")]),e._v(" "),r("p",[e._v("check CPU core number")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.cyberciti.biz/faq/check-how-many-cpus-are-there-in-linux-system/",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to check how many CPUs are there in Linux system"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("grep 'model name' /proc/cpuinfo | wc -l")])])]),e._v(" "),r("h2",{attrs:{id:"cpu-性能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cpu-性能"}},[e._v("#")]),e._v(" CPU 性能")]),e._v(" "),r("h3",{attrs:{id:"cpu-load-average"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cpu-load-average"}},[e._v("#")]),e._v(" CPU Load Average")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://community.tenable.com/s/article/What-is-CPU-Load-Average",target:"_blank",rel:"noopener noreferrer"}},[e._v("What is CPU Load Average"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Linux")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("top")])]),e._v(" "),r("li",[r("code",[e._v("uptime")])])]),e._v(" "),r("p",[e._v("Mac")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("top")])]),e._v(" "),r("li",[r("code",[e._v("uptime")])])]),e._v(" "),r("p",[e._v("Win")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("wmic cpu get LoadPercentage")]),e._v(" 但只能拿到当前的，不能统计 1min、5min、15min 内的")])]),e._v(" "),r("p",[e._v("Win 原生对 load average 的支持不是很好，可以用别的指标替代")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://social.technet.microsoft.com/Forums/windowsserver/en-US/b9d86bdc-9ea8-4659-ae65-4c1b5b86d324/powershell-scripts-to-get-overall-cpu-usage-from-list-of-servers?forum=winserverpowershell",target:"_blank",rel:"noopener noreferrer"}},[e._v("Powershell scripts to get overall CPU usage from list of servers"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://stackoverflow.com/questions/18090657/getting-the-cpu-memory-usage-and-free-disk-space-using-powershell",target:"_blank",rel:"noopener noreferrer"}},[e._v("Getting the CPU, memory usage and free disk space using powershell"),r("OutboundLink")],1)])]),e._v(" "),r("h3",{attrs:{id:"cpu-context-switch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cpu-context-switch"}},[e._v("#")]),e._v(" CPU Context Switch")]),e._v(" "),r("p",[r("code",[e._v("watch -d cat /proc/interrupts")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# 以 10 个线程运行 5 分钟的基准测试，模拟多线程切换的问题\n$ sysbench --threads=10 --max-time=300 threads run\n")])])]),r("p",[e._v("Linux 上下文切换:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("vmstat")])]),e._v(" "),r("li",[r("code",[e._v("pidstat -w")])])]),e._v(" "),r("p",[e._v("Mac 上下文切换:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("sc_usage")])])]),e._v(" "),r("p",[e._v("Linux 非自愿上下文切换")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("pidstat -w")])])]),e._v(" "),r("p",[e._v("Linux 中断")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("watch -d cat /proc/interrupts")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);